//output:$1.html
//{"menu":{},"button":{},"lang":"en"}

extends ../comp/base

block style
  link(rel="stylesheet", type="text/css", href="/css/adformat.css")

block scroll_nav_change

block script_after
  | $('.carousel').carousel();

block content
  +menu("pmp")
  
  .adformat-overlap
    #vue-app
      adformat-component
    
    script(type="x-template",id="adformat-component")
      div
        h2 {{adformat[current_ad_id].name}}
        .pure-g
          .content.pure-u-1-1.pure-u-md-3-4
            .pure-g
              .emulator.pure-u-1-1.pure-u-md-1-3
                img.pure-img(src="/img/bg/bg_phone.png")
                .iframe-container
                  iframe(:src="adformat[current_ad_id].url_demo") 
              .pure-u-1-1.pure-u-md-2-3
                div
                  | <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
          .menu.pure-u-1-1.pure-u-md-1-4
            .itemgrid
              - var adformat = [];
              - adformat.push({"id": "interstitial","img":"mock","url":"",});
              - adformat.push({"id": "impressive","img":"mock","url":"",});
              - adformat.push({"id": "interstitial","img":"mock","url":"",});
              - adformat.push({"id": "interstitial","img":"mock","url":"",});
              - adformat.push({"id": "interstitial","img":"mock","url":"",});
              - adformat.push({"id": "interstitial","img":"mock","url":"",});
              - adformat.push({"id": "interstitial","img":"mock","url":"",});
              - adformat.push({"id": "interstitial","img":"mock","url":"",});
              - adformat.push({"id": "interstitial","img":"mock","url":"",});
              - adformat.push({"id": "interstitial","img":"mock","url":"",});
              - adformat.push({"id": "interstitial","img":"mock","url":"",});
              - adformat.push({"id": "interstitial","img":"mock","url":"",});
              - adformat.push({"id": "interstitial","img":"mock","url":"",});
              - adformat.push({"id": "interstitial","img":"mock","url":"",});
              - adformat.push({"id": "interstitial","img":"mock","url":"",});
              .pure-g
                each item in adformat
                  .aditem.pure-u-1-3
                    img.pure-img(src="/img/adformat/btn_ad_#{item.img}.png",@click="selectAd('#{item.id}')")
    script(src="https://unpkg.com/vue@2.5.13/dist/vue.js")
    script(type="text/javascript").
      Vue.component('adformat-component', {
          template: '#adformat-component',
          data: function () {
              return {
                "adformat": {
                  "interstitial": {
                    "name": "Interstitial",
                    "url_demo": "http://ad-demo.vmfive.com/demos/simple-interstitial.html",
                  },
                  "impressive": {
                    "name": "Impressive",
                    "url_demo": "http://ad-demo.vmfive.com/demos/simple-impressive.html",
                  },
                },
                "current_ad_id" : "interstitial",
              };
          },
          methods: {
              selectAd: function (id) {
                this.current_ad_id = id;
              }
          }
      });
      var app = new Vue({
          el: '#vue-app'
      });
